(self.webpackChunktech_details=self.webpackChunktech_details||[]).push([[2797],{3905:function(t,e,n){"use strict";n.d(e,{Zo:function(){return p},kt:function(){return m}});var a=n(67294);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},i=Object.keys(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var s=a.createContext({}),u=function(t){var e=a.useContext(s),n=e;return t&&(n="function"==typeof t?t(e):l(l({},e),t)),n},p=function(t){var e=u(t.components);return a.createElement(s.Provider,{value:e},t.children)},c={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},d=a.forwardRef((function(t,e){var n=t.components,r=t.mdxType,i=t.originalType,s=t.parentName,p=o(t,["components","mdxType","originalType","parentName"]),d=u(n),m=r,h=d["".concat(s,".").concat(m)]||d[m]||c[m]||i;return n?a.createElement(h,l(l({ref:e},p),{},{components:n})):a.createElement(h,l({ref:e},p))}));function m(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var i=n.length,l=new Array(i);l[0]=d;var o={};for(var s in e)hasOwnProperty.call(e,s)&&(o[s]=e[s]);o.originalType=t,o.mdxType="string"==typeof t?t:r,l[1]=o;for(var u=2;u<i;u++)l[u]=n[u];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},25721:function(t,e,n){"use strict";n.r(e),n.d(e,{frontMatter:function(){return o},contentTitle:function(){return s},metadata:function(){return u},toc:function(){return p},default:function(){return d}});var a=n(22122),r=n(19756),i=(n(67294),n(3905)),l=["components"],o={hide_title:!0,sidebar_label:"ViuMesh Radio: Setup & Installation"},s="ViuMesh Radio Communication: Setup & Installation",u={unversionedId:"systems/Aira/viumesh_setup",id:"systems/Aira/viumesh_setup",isDocsHomePage:!1,title:"ViuMesh Radio Communication: Setup & Installation",description:"The ViuMesh radio system is used for communication with both the flight controller and on-board computer.",source:"@site/docs/systems/Aira/viumesh_setup.md",sourceDirName:"systems/Aira",slug:"/systems/Aira/viumesh_setup",permalink:"/tech-details/docs/systems/Aira/viumesh_setup",version:"current",lastUpdatedAt:1750065772,formattedLastUpdatedAt:"6/16/2025",frontMatter:{hide_title:!0,sidebar_label:"ViuMesh Radio: Setup & Installation"},sidebar:"systemsSidebar",previous:{title:"MicroXRCE DDS Agent: Setup & Installation",permalink:"/tech-details/docs/systems/Aira/uxrceddsagent_setup"},next:{title:"ROS2: Setup & Installation",permalink:"/tech-details/docs/systems/Aira/ros2_installation"}},p=[{value:"ViuMesh Setup for OBC",id:"viumesh-setup-for-obc",children:[]},{value:"ViuMesh Radio Configuration",id:"viumesh-radio-configuration",children:[]},{value:"Integration ViuMesh with FC",id:"integration-viumesh-with-fc",children:[]},{value:"IP Allocation Table",id:"ip-allocation-table",children:[]},{value:"Reference Links",id:"reference-links",children:[]}],c={toc:p};function d(t){var e=t.components,o=(0,r.Z)(t,l);return(0,i.kt)("wrapper",(0,a.Z)({},c,o,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"viumesh-radio-communication-setup--installation"},"ViuMesh Radio Communication: Setup & Installation"),(0,i.kt)("p",null,"The ViuMesh radio system is used for communication with both the flight controller and on-board computer."),(0,i.kt)("h2",{id:"viumesh-setup-for-obc"},"ViuMesh Setup for OBC"),(0,i.kt)("p",null,"Setup network connection for the Viumesh communication module: "),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"sudo nmcli connection add type ethernet ifname enP8p1s0 con-name ViuMesh \nsudo nmcli connection modify ViuMesh ipv4.method manual ipv4.addresses 192.168.17.xx/24 #Replace 192.168.17.xx with relevant ip address, refer IP Allocation Table\nsudo nmcli connection up ViuMesh \n\n \n\nsudo systemctl restart NetworkManager \n\n \n\nnmcli connection show #to check the active network connection and ensure visionmodule and ViuMesh is active\n")),(0,i.kt)("p",null,"NOTE: Refer ",(0,i.kt)("a",{parentName:"p",href:"#ip-allocation-table"},"IP Allocation Table")," for 192.168.17.xx "),(0,i.kt)("h2",{id:"viumesh-radio-configuration"},"ViuMesh Radio Configuration"),(0,i.kt)("p",null,"After setting up the network connection for the ViuMesh Radio Communication, open the browser type the default ip: 192.168.17.1 of the ViuMesh, Mesh radio configuration window should appear prompting for password. "),(0,i.kt)("p",null,"If the mesh radio configuration webpage didn\u2019t open or if you face any No network connection issue, you may need to check the ip of the ViuMesh radio module. "),(0,i.kt)("p",null,"Use nmap to find the devices and ip connected to your OBC,  "),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"nmap \u2013sP 192.168.17.0/24 #list all the devices connected in the network of 192.168.17.0 \n")),(0,i.kt)("p",null,"Open the mesh radio configuration webpage using the ViuMesh Radio ip address. "),(0,i.kt)("p",null,"Default:\tUsername: admin, Password: admin "),(0,i.kt)("p",null,"If the mesh radio configuration page is accessed for the first time, it may prompt to setup the password, you can re-enter \u2018admin\u2019 as password "),(0,i.kt)("p",null,"Under Settings-> Wireless (Expert Mode Enabled(checkbox)), Change Channel bandwidth, channel, Tx power as below,\n",(0,i.kt)("img",{src:n(22339).Z})),(0,i.kt)("p",null,"Under Settings-> Network, Change the Fixed IP Address of the ViuMesh Radio as per the Drone_ID (Refer IP Allocation Table)\n",(0,i.kt)("img",{src:n(20782).Z})),(0,i.kt)("p",null,"Under Settings-> System, Change the Region as below,\n",(0,i.kt)("img",{src:n(5825).Z})),(0,i.kt)("p",null,"Apply the changes and reload the mesh radio configuration webpage on the allocated ip address. "),(0,i.kt)("h2",{id:"integration-viumesh-with-fc"},"Integration ViuMesh with FC"),(0,i.kt)("p",null,"Now, the flight controller has to be assigned with ip address to integrate it with the Viumesh, which will help to connect and communicate with QGC using ViuMesh"),(0,i.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"The given parameter file should be able skip the next step"))),(0,i.kt)("p",null,"PX4 configures the serial port to connect to a GCS via MAVLink, using the parameters shown below:"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Value"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"MAV_2_CONFIG"),(0,i.kt)("td",{parentName:"tr",align:null},"1000"),(0,i.kt)("td",{parentName:"tr",align:null},"Configure Ethernet port")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"MAV_2_BROADCAST"),(0,i.kt)("td",{parentName:"tr",align:null},"1"),(0,i.kt)("td",{parentName:"tr",align:null},"Broadcast HEARTBEAT messages")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"MAV_2_MODE"),(0,i.kt)("td",{parentName:"tr",align:null},"0"),(0,i.kt)("td",{parentName:"tr",align:null},'Send the "normal" set of MAVLink messages (i.e. the GCS set)')),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"MAV_2_RADIO_CTL"),(0,i.kt)("td",{parentName:"tr",align:null},"0"),(0,i.kt)("td",{parentName:"tr",align:null},"Disable software throttling of MAVLink traffic")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"MAV_2_RATE"),(0,i.kt)("td",{parentName:"tr",align:null},"100000"),(0,i.kt)("td",{parentName:"tr",align:null},"Maximum sending rate")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"MAV_2_REMOTE_PRT"),(0,i.kt)("td",{parentName:"tr",align:null},"14550"),(0,i.kt)("td",{parentName:"tr",align:null},"MAVLink Remote Port of 14550 (GCS)")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"MAV_2_UDP_PRT"),(0,i.kt)("td",{parentName:"tr",align:null},"14550"),(0,i.kt)("td",{parentName:"tr",align:null},"MAVLink Network Port of 14550 (GCS)")))),(0,i.kt)("p",null,"Setting up ethernet address for the flight controller,"),(0,i.kt)("p",null,"Open QGC->Analyze Tools->Mavlink Console"),(0,i.kt)("p",null,"Check the current network settings\nnetman show # to show the current ethernet settings"),(0,i.kt)("p",null,"Create network settings file using the following commands. The following commands will create a file on the microsd card, and px4 will replace the previously shown network settings with the below on next boot or netman update command"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"echo DEVICE=eth0 > /fs/microsd/net.cfg\n    echo BOOTPROTO=static >> /fs/microsd/net.cfg\n    echo IPADDR=192.168.17.xx >> /fs/microsd/net.cfg    #ip address that need to be assigned to the FC\n    echo NETMASK=255.255.255.0 >>/fs/microsd/net.cfg\n    echo ROUTER=192.168.17.yy >>/fs/microsd/net.cfg #ip address of the corresponding ViuMesh\n    echo DNS= 192.168.17.yy >>/fs/microsd/net.cfg #ip address of the corresponding ViuMesh\n")),(0,i.kt)("p",null,"NOTE: You can refer to the ",(0,i.kt)("a",{parentName:"p",href:"#ip-allocation-table"},"IP Allocation Table")," for reference."),(0,i.kt)("p",null,"After the above step, you can use cat /fs/microsd/net.cfg on the mavlink console to check the network settings you have created using previous step"),(0,i.kt)("p",null,"Reboot the flight controller or use netman update command on the mavlink console to update the network settings"),(0,i.kt)("p",null,"Power up FC and ViuMesh, use ifconfig on mavlink console to check whether the network is UP & established"),(0,i.kt)("h2",{id:"ip-allocation-table"},"IP Allocation Table"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Drone"),(0,i.kt)("th",{parentName:"tr",align:null},"Drone_ID"),(0,i.kt)("th",{parentName:"tr",align:null},"OBC IP"),(0,i.kt)("th",{parentName:"tr",align:null},"ViuMesh IP"),(0,i.kt)("th",{parentName:"tr",align:null},"FC IP"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Aira-01"),(0,i.kt)("td",{parentName:"tr",align:null},"0101-SDP-001"),(0,i.kt)("td",{parentName:"tr",align:null},"192.168.17.10"),(0,i.kt)("td",{parentName:"tr",align:null},"192.168.17.11"),(0,i.kt)("td",{parentName:"tr",align:null},"192.168.17.12")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Aira-02"),(0,i.kt)("td",{parentName:"tr",align:null},"0101-SDP-002"),(0,i.kt)("td",{parentName:"tr",align:null},"192.168.17.20"),(0,i.kt)("td",{parentName:"tr",align:null},"192.168.17.21"),(0,i.kt)("td",{parentName:"tr",align:null},"192.168.17.22")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Aira-03"),(0,i.kt)("td",{parentName:"tr",align:null},"0101-SDP-003"),(0,i.kt)("td",{parentName:"tr",align:null},"192.168.17.30"),(0,i.kt)("td",{parentName:"tr",align:null},"192.168.17.31"),(0,i.kt)("td",{parentName:"tr",align:null},"192.168.17.32")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Aira-04"),(0,i.kt)("td",{parentName:"tr",align:null},"0101-SDP-004"),(0,i.kt)("td",{parentName:"tr",align:null},"192.168.17.40"),(0,i.kt)("td",{parentName:"tr",align:null},"192.168.17.41"),(0,i.kt)("td",{parentName:"tr",align:null},"192.168.17.42")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Aira-05"),(0,i.kt)("td",{parentName:"tr",align:null},"0101-SDP-005"),(0,i.kt)("td",{parentName:"tr",align:null},"192.168.17.50"),(0,i.kt)("td",{parentName:"tr",align:null},"192.168.17.51"),(0,i.kt)("td",{parentName:"tr",align:null},"192.168.17.52")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Ground Station"),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null},"192.168.17.100 (Laptop)"),(0,i.kt)("td",{parentName:"tr",align:null},"192.168.17.01"),(0,i.kt)("td",{parentName:"tr",align:null})))),(0,i.kt)("h2",{id:"reference-links"},"Reference Links"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"https://docs.px4.io/main/en/advanced_config/ethernet_setup.html"},"PX4 Ethernet Setup")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"https://docs.px4.io/main/en/modules/modules_system.html#netman"},"Module Reference: System - netman"))))}d.isMDXComponent=!0},22339:function(t,e,n){"use strict";e.Z=n.p+"assets/images/viumesh_radio_config_1-f7223766b8f203026e18874c58d1e05c.png"},20782:function(t,e,n){"use strict";e.Z=n.p+"assets/images/viumesh_radio_config_2-ba4c29686c38b8b6e04c5003c0188e4c.png"},5825:function(t,e,n){"use strict";e.Z=n.p+"assets/images/viumesh_radio_config_3-ef63a2ee0e15b4fdee560b530965efdf.png"}}]);