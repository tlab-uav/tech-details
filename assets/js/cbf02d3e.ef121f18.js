(self.webpackChunktech_details=self.webpackChunktech_details||[]).push([[3735],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return c},kt:function(){return d}});var o=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=o.createContext({}),u=function(e){var t=o.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},c=function(e){var t=u(e.components);return o.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},f=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),f=u(n),d=r,m=f["".concat(l,".").concat(d)]||f[d]||p[d]||i;return n?o.createElement(m,a(a({ref:t},c),{},{components:n})):o.createElement(m,a({ref:t},c))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,a=new Array(i);a[0]=f;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,a[1]=s;for(var u=2;u<i;u++)a[u]=n[u];return o.createElement.apply(null,a)}return o.createElement.apply(null,n)}f.displayName="MDXCreateElement"},29599:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return u},toc:function(){return c},default:function(){return f}});var o=n(22122),r=n(19756),i=(n(67294),n(3905)),a=["components"],s={hide_title:!0,sidebar_label:"Multiagent PX4 SITL"},l="Lessons Learnt from launching multiple instances of PX4 SITL",u={unversionedId:"systems/multiagentPX4",id:"systems/multiagentPX4",isDocsHomePage:!1,title:"Lessons Learnt from launching multiple instances of PX4 SITL",description:"If using v1.13.0, there might be the possibility where you are unable to go into offboard mode and there is warning shown in the QGroundControl that says failsafe enabled/disabled. This implies that the drone is looking out for an RC but none is detected (which is strange for SITL). But nonetheless, the workaround is as follows:",source:"@site/docs/systems/multiagentPX4.md",sourceDirName:"systems",slug:"/systems/multiagentPX4",permalink:"/tech-details/docs/systems/multiagentPX4",version:"current",lastUpdatedAt:1693991117,formattedLastUpdatedAt:"9/6/2023",frontMatter:{hide_title:!0,sidebar_label:"Multiagent PX4 SITL"}},c=[],p={toc:c};function f(e){var t=e.components,n=(0,r.Z)(e,a);return(0,i.kt)("wrapper",(0,o.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"lessons-learnt-from-launching-multiple-instances-of-px4-sitl"},"Lessons Learnt from launching multiple instances of PX4 SITL"),(0,i.kt)("p",null,"If using v1.13.0, there might be the possibility where you are unable to go into offboard mode and there is warning shown in the QGroundControl that says failsafe enabled/disabled. This implies that the drone is looking out for an RC but none is detected (which is strange for SITL). But nonetheless, the workaround is as follows: "),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Go to QGroundControl -> application settings, and then enable the ",(0,i.kt)("inlineCode",{parentName:"p"},"virtual joystick")," option. This alone does not solve the problem because you have multiple agents but only one virtual joystick so you can only control 1 drone at a time. So when you switch to different drones, the other drones will not detect the RC and then it will go into fail safe mode. Hence, second step is important")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Go to QGroundControl, after connection to the drone, set the following parameter ",(0,i.kt)("inlineCode",{parentName:"p"},"COM_RCL_EXCEPT")," to 4 (which is offboard). This provides an exception to require comms when it is in offboard mode. And thus circumnavigate the problem. Unsure if the previous step is required if you straight up use this. But nonetheless, this is the workaround"))),(0,i.kt)("p",null,"If there is a need to have more than 10 drones, you can do the following (from ",(0,i.kt)("a",{parentName:"p",href:"https://discuss.px4.io/t/multi-vehicle-gazebo-sitl-port-configuration/32753"},"https://discuss.px4.io/t/multi-vehicle-gazebo-sitl-port-configuration/32753"),")"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Go to the PX4 firmware ",(0,i.kt)("inlineCode",{parentName:"li"},"ROMFS/px4fmu_common/init.d-posix/px4-rc.mavlink")," file and then change the udp offboard port number to be starting from some other port numbers. This should allow more than 10 drones to be spawned.")))}f.isMDXComponent=!0}}]);